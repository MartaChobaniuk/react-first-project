"use strict";(self.webpackChunkreact_first_project=self.webpackChunkreact_first_project||[]).push([[180],{9180:function(s,t,e){e.r(t),e.d(t,{default:function(){return B}});var o=e(1413),r=e(5671),i=e(3144),n=e(136),a=e(516),u=e(390),l={},c=e(9439),d={descriptionBlock:"ProfileInfo_descriptionBlock__tWidt",profileInfoPhoto:"ProfileInfo_profileInfoPhoto__IeqQM",contact:"ProfileInfo_contact__5RfLN"},f=e(5470),p=e(2559),h=function(s){var t=(0,u.useState)(!1),e=(0,c.Z)(t,2),o=e[0],r=e[1],i=(0,u.useState)(s.status),n=(0,c.Z)(i,2),a=n[0],l=n[1];return(0,u.useEffect)((function(){l(s.status)}),[s.status]),(0,p.jsxs)("div",{children:[!o&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Status:"})," ",(0,p.jsx)("span",{onDoubleClick:function(){r(!0)},children:s.status||"----"})]}),o&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{autoFocus:!0,onBlur:function(){r(!1),s.updateStatus(a)},onChange:function(s){l(s.currentTarget.value)},value:a})})]})},x=e(2252),j=e(24),v=e(2880),m=(0,v.Z)({form:"profileDataForm",destroyOnUnmount:!1})((function(s){var t=s.handleSubmit;return(0,p.jsxs)("form",{onSubmit:t(),children:[(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"Save"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Full name:"}),(0,j.Gr)("Full name","FullName",[],j.II)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking for a job:"})," ",(0,j.Gr)("","lookingForAJob",[],j.II,{type:"checkbox"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My professional skills:"})," ",(0,j.Gr)("My professional skills","lookingForAJobDescription",[],j.gx)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About me:"})," ",(0,j.Gr)("About me","aboutMe",[],j.gx)]})]})})),b=function(s){var t=s.profile,e=s.isOwner,o=s.goToEditMode;return(0,p.jsxs)("div",{children:[e&&(0,p.jsx)("div",{children:(0,p.jsx)("button",{onClick:o,children:"Edit"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Full name:"})," ",t.fullName]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking for a job:"})," ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My professional skills:"})," ",t.lookingForAJobDescription]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About me:"})," ",t.aboutMe]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Contacts:"})," ",Object.keys(t.contacts).map((function(s){return(0,p.jsx)(g,{contactTitle:s,contactValue:t.contacts[s]},s)}))]})]})},g=function(s){var t=s.contactTitle,e=s.contactValue;return(0,p.jsxs)("div",{className:d.contact,children:[t,": ",e]})},P=function(s){var t=s.profile,e=s.status,o=s.updateStatus,r=s.isOwner,i=s.savePhoto,n=s.saveProfile,a=(0,u.useState)(!1),l=(0,c.Z)(a,2),j=l[0],v=l[1];if(!t)return(0,p.jsx)(f.Z,{});return(0,p.jsx)("div",{className:d.profileInfo,children:(0,p.jsxs)("div",{className:d.descriptionBlock,children:[(0,p.jsx)("img",{src:t.photos.large||x,alt:"",className:d.profileInfoPhoto}),(0,p.jsx)("br",{}),r&&(0,p.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&i(s.target.files[0])}}),j?(0,p.jsx)(m,{initialValues:t,profile:t,onSubmit:function(s){n(s)}}):(0,p.jsx)(b,{profile:t,isOwner:r,goToEditMode:function(){v(!0)}}),(0,p.jsx)(h,{status:e,updateStatus:o})]})})},k=e(6338),_="MyPosts_posts__mnDJ-",S="MyPosts_postsBlock__sU53-",I="Post_item__EgC8D",y=function(s){return(0,p.jsxs)("div",{className:I,children:[(0,p.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRzfoadBiOrLG1zXJbI_zru2koK-4ElSc-k5g&usqp=CAU",alt:"girl"}),s.message,(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:"like"})," ",s.likesCount]})]})},C=e(7485),Z=e(5754),A=(0,Z.D)(10),N=(0,v.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,p.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)(C.Z,{component:j.gx,name:"newPostText",validate:[Z.C,A],placeholder:"Post message"})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"Add post"})})]})})),w=u.memo((function(s){var t=s.posts.map((function(s){return(0,p.jsx)(y,{message:s.message,likesCount:s.likesCount})}));return(0,p.jsxs)("div",{className:S,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)(N,{onSubmit:function(t){s.addPost(t.newPostText)}}),(0,p.jsx)("div",{className:_,children:t})]})})),F=e(5255),M=(0,F.$j)((function(s){return{posts:s.profilePage.posts,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(t){s((0,k.Wl)(t))}}}))(w),D=function(s){return(0,p.jsxs)("div",{className:l,children:[(0,p.jsx)(P,{isOwner:s.isOwner,profile:s.profile,status:s.status,updateStatus:s.updateStatus,savePhoto:s.savePhoto,saveProfile:s.saveProfile}),(0,p.jsx)(M,{})]})},O=e(5545),T=e(8946),U=e(8028),J=function(s){(0,n.Z)(e,s);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"refreshProfile",value:function(){var s=this.props.router.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,t,e){this.props.router.params.userId!==s.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,p.jsx)(D,(0,o.Z)((0,o.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),e}(u.Component);var B=(0,U.qC)((0,F.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:k.et,getStatus:k.lR,updateStatus:k.Nf,savePhoto:k.Ju,saveProfile:k.Ii}),(function(s){return function(t){var e=(0,O.TH)(),r=(0,O.s0)(),i=(0,O.UO)();return(0,p.jsx)(s,(0,o.Z)((0,o.Z)({},t),{},{router:{location:e,navigate:r,params:i}}))}}),T.D)(J)}}]);
//# sourceMappingURL=180.3e9d671d.chunk.js.map